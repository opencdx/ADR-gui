{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8085","description":"Generated server url"}],"paths":{"/query/update":{"put":{"tags":["query-controller"],"operationId":"updateQuery","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedQuery"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedQuery"}}}}}}},"/query":{"get":{"tags":["query-controller"],"operationId":"getQueryableData","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TinkarConceptModel"}}}}}}},"post":{"tags":["query-controller"],"operationId":"postQuery","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ADRQuery"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/query/save":{"post":{"tags":["query-controller"],"operationId":"saveQuery","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedQuery"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedQuery"}}}}}}},"/query/csv":{"post":{"tags":["query-controller"],"operationId":"queryCSV","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ADRQuery"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string","format":"byte"}}}}}}},"/anf":{"post":{"tags":["anf-controller"],"operationId":"postANFStatement","requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/query/units":{"get":{"tags":["query-controller"],"operationId":"getUnits","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TinkarConceptModel"}}}}}}}},"/query/search":{"get":{"tags":["query-controller"],"operationId":"search","parameters":[{"name":"search","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TinkarConceptModel"}}}}}}}},"/query/list":{"get":{"tags":["query-controller"],"operationId":"listQueries","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SavedQuery"}}}}}}}},"/query/{id}":{"delete":{"tags":["query-controller"],"operationId":"deleteQuery","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"ADRQuery":{"type":"object","properties":{"unitOutput":{"type":"string","description":"Unit output options for a system.","enum":["IMPERIAL","METRIC","DEFAULT"]},"queries":{"type":"array","description":"The query that is be executed. It can be made up of multiple individual queries, combined with AND or OR","items":{"$ref":"#/components/schemas/Query"}}},"description":"A query object used for searching concepts."},"Formula":{"type":"object","properties":{"name":{"type":"string","description":"The name of the formula, this will be used as the CSC Header."},"leftOperand":{"$ref":"#/components/schemas/TinkarConceptModel"},"rightOperand":{"$ref":"#/components/schemas/TinkarConceptModel"},"leftOperandValue":{"type":"number","description":"The value of the left operand in the formula. Only one of leftOperand, leftOperandValue, or leftOperandFormula should be set.","format":"double"},"rightOperandValue":{"type":"number","description":"The value of the right operand in the formula. Only one of rightOperand, rightOperandValue, or rightOperandFormula should be set.","format":"double"},"leftOperandFormula":{"$ref":"#/components/schemas/Formula"},"rightOperandFormula":{"$ref":"#/components/schemas/Formula"},"leftOperandUnit":{"$ref":"#/components/schemas/TinkarConceptModel"},"rightOperandUnit":{"$ref":"#/components/schemas/TinkarConceptModel"},"operation":{"type":"string","description":"Numerical operations that can be performed on numerical values.","enum":["MULTIPLY","DIVIDE","ADD","SUBTRACT","MODULO","POWER"]}},"description":"This class represents a mathematical formula for performing calculations. Only one of leftOperand, leftOperandValue, or leftOperandFormula should be set. Only one of rightOperand, rightOperandValue, or rightOperandFormula should be set. Operation is required."},"Query":{"type":"object","properties":{"concept":{"$ref":"#/components/schemas/TinkarConceptModel"},"operation":{"type":"string","description":"Comparison operations for querying.","enum":["GREATER_THAN","LESS_THAN","GREATER_THAN_OR_EQUAL","LESS_THAN_OR_EQUAL","EQUAL","NOT_EQUAL"]},"operationDouble":{"type":"number","description":"The value to be compared against the conceptId, if the value is to be compared against a number..  Optional","format":"double"},"operationUnit":{"$ref":"#/components/schemas/TinkarConceptModel"},"operationText":{"type":"string","description":"The value to be compared against the conceptId, if the value is to be compared against a string.  Optional"},"formula":{"$ref":"#/components/schemas/Formula"},"joinOperation":{"type":"string","description":"Logical join operations for querying.","enum":["OR","AND"]},"group":{"type":"array","description":"A group of queries that should be run together.  Optional","items":{"$ref":"#/components/schemas/Query"}}},"description":"A query object used for searching concepts.  Only one of these fields should be used at a time: formula, conceptId, group. Operation fields are used to compare the value of those fields against another value.  JoinOperation is used to bring together the multiple queries in an ADRQuery."},"SavedQuery":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"query":{"$ref":"#/components/schemas/ADRQuery"}}},"TinkarConceptModel":{"type":"object","properties":{"id":{"type":"integer","description":"The ID of the concept","format":"int64"},"conceptId":{"type":"string","description":"The UUID of the concept","format":"uuid"},"sync":{"type":"boolean","description":"Boolean indicating if the concept has been synchronized with IKM"},"conceptName":{"type":"string","description":"The name of the concept"},"conceptDescription":{"type":"string","description":"The description of the concept"},"focus":{"type":"string","description":"Concept focus modes.","enum":["SELF","DESCENDANTS","DESCENDANTS_OR_SELF","ANCESTORS","ANCESTORS_OR_SELF","CHILDREN","CHILDREN_OR_SELF","PARENT","PARENT_OR_SELF","MEMBER","DATE"]}},"description":"The unit of measurement for the right operand in the formula."}}}}